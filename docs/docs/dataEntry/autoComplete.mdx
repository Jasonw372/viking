import CustomAutoComplete from '../../demos/autoComplete/CustomAutoComplete';
import DefaultAutoComplete from '../../demos/autoComplete/DefaultAutoComplete';

# AutoComplete è‡ªåŠ¨å®Œæˆ

`AutoComplete` ç»„ä»¶æä¾›è‡ªåŠ¨å®ŒæˆåŠŸèƒ½ï¼Œæ ¹æ®ç”¨æˆ·çš„è¾“å…¥å»ºè®®é€‰é¡¹ã€‚

## ä½¿ç”¨

```ts
import { AutoComplete } from 'viking-design';
```

## ä»£ç æ¼”ç¤º

### é»˜è®¤ç”¨æ³•

```tsx
import { AutoComplete } from 'viking-design';
import React, { useState } from 'react';


const options = ['Apple', 'Banana', 'Orange'];

const DefaultAutoComplete = () => {
  const [value, setValue] = useState('');
  const handleSearch = (query: string) => {
    return options
      .filter(option => option.toLowerCase().includes(query.toLowerCase()))
      .map(option => ({ value: option }));
  };

  return (
    <div style={{width: '300px', margin: '50px auto'}}>
      <AutoComplete
        placeholder="è¯·è¾“å…¥..."
        fetchSuggestions={handleSearch}
        value={value}
        onChange={e => setValue(e.target.value)}
        onSelect={item => {
          setValue(item.value);
        }}
      />
    </div>
  );
};

export default DefaultAutoComplete;
```

<DefaultAutoComplete />

### è‡ªå®šä¹‰æ¸²æŸ“æ ·å¼

```tsx
import React, { useState } from 'react';
import {AutoComplete} from 'viking-design';
import { DataSourceType } from 'viking-design/components/AutoComplete';

interface ProgrammingLanguageItem {
  value: string;
  icon: string;
}

const languages: ProgrammingLanguageItem[] = [
  { value: 'JavaScript', icon: 'ğŸ“˜' },
  { value: 'TypeScript', icon: 'ğŸ“˜' },
  { value: 'Python', icon: 'ğŸ' },
  { value: 'Java', icon: 'â˜•' },
  { value: 'C#', icon: 'ğŸ“˜' },
  { value: 'Ruby', icon: 'ğŸ’' },
  { value: 'Go', icon: 'ğŸ”µ' },
  { value: 'PHP', icon: 'ğŸ˜' },
  { value: 'Swift', icon: 'ğŸ' },
  { value: 'Kotlin', icon: 'ğŸ¤–' },
  { value: 'Rust', icon: 'âš™ï¸' },
  { value: 'Scala', icon: 'ğŸ”´' },
  { value: 'Haskell', icon: 'ğŸ¯' },
  { value: 'Dart', icon: 'ğŸ¯' },
  { value: 'R', icon: 'ğŸ“Š' },
  { value: 'MATLAB', icon: 'ğŸ”¢' },
  { value: 'Perl', icon: 'ğŸª' },
  { value: 'Lua', icon: 'ğŸŒ™' },
  { value: 'Shell', icon: 'ğŸš' },
  { value: 'SQL', icon: 'ğŸ’¾' },
];

const CustomAutoComplete: React.FC = () => {
  const [inputValue, setInputValue] = useState('');

  // è·å–å»ºè®®é¡¹
  const fetchSuggestions = (keyword: string): ProgrammingLanguageItem[] => {
    return languages.filter(lang => lang.value.toLowerCase().startsWith(keyword.toLowerCase()));
  };

  // æ¸²æŸ“è‡ªå®šä¹‰é€‰é¡¹
  const renderOption = (item: DataSourceType<ProgrammingLanguageItem>) => {
    return (
      <div style={{ display: 'flex', alignItems: 'center', gap: '8px' }}>
        <span role="img" aria-label="icon">{item.icon}</span>
        <span>{item.value}</span>
      </div>
    );
  };

  return (
    <div style={{ width: '300px', margin: '50px auto' }}>
      <AutoComplete
        placeholder="æœç´¢ç¼–ç¨‹è¯­è¨€..."
        fetchSuggestions={fetchSuggestions}
        renderOption={renderOption}
        onChange={e => setInputValue(e.target.value)}
        onSelect={item => console.log('é€‰æ‹©:', item)}
      />
      <p>è¾“å…¥å€¼: {inputValue}</p>
    </div>
  );
};

export default CustomAutoComplete;
```

<CustomAutoComplete />

## API

### AutoComplete Props

| å±æ€§ | è¯´æ˜ | ç±»å‹ | é»˜è®¤å€¼ |
| --- | --- | --- | --- |
| fetchSuggestions | è¿”å›è¾“å…¥å»ºè®®çš„æ–¹æ³•ï¼Œå¯ä»¥æ‹¿åˆ°å½“å‰çš„è¾“å…¥ï¼Œè¿”å›åŒæ­¥çš„æ•°ç»„æˆ–è€… Promise | `(keyword: string) => DataSourceType[] \| Promise<DataSourceType[]>` | - |
| onSelect | é€‰æ‹©é€‰é¡¹æ—¶è§¦å‘çš„å›è°ƒ | `(item: DataSourceType) => void` | - |
| defaultValue | è¾“å…¥æ¡†é»˜è®¤å€¼ | `string` | - |
| renderOption | è‡ªå®šä¹‰æ¸²æŸ“ä¸‹æ‹‰é¡¹ï¼Œæ”¯æŒ JSX | `(item: DataSourceType) => ReactNode` | - |

é™¤äº†ä¸Šè¿°å±æ€§å¤–ï¼ŒAutoComplete ç»„ä»¶è¿˜æ”¯æŒ Input ç»„ä»¶çš„æ‰€æœ‰å±æ€§ï¼ˆé™¤äº† `onSelect` å’Œ `defaultValue`ï¼‰ã€‚

### DataSourceType

```ts
interface DataSourceObject {
  value: string;
  [key: string]: any;
}
```

`DataSourceType` æ˜¯ä¸€ä¸ªæ³›å‹ç±»å‹ï¼Œå®ƒç»§æ‰¿è‡ª `DataSourceObject`ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥ä¼ å…¥ä»»ä½•åŒ…å« `value` å±æ€§çš„å¯¹è±¡ä½œä¸ºæ•°æ®æºã€‚ä¾‹å¦‚ï¼š
